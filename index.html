<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YSSD Transition Services Update</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Marked for Markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Fredoka', 'sans-serif'],
                    },
                    colors: {
                        primary: '#003DA5',   /* Adjusted to a deeper Academic Blue */
                        secondary: '#E04F39', /* Orange-Red accent */
                        accent: '#22C55E',    /* Green */
                        dark: '#1E293B',
                        light: '#F8FAFC'
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom print styles to ensure background colors print */
        @media print {
            body {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            .no-print {
                display: none;
            }
        }
        /* Markdown Styles */
        .prose strong { color: #1f2937; font-weight: 600; }
        .prose ul { list-style-type: disc; padding-left: 1.5rem; margin-top: 0.5rem; }
        .prose li { margin-bottom: 0.25rem; }
    </style>
</head>
<body class="bg-gray-100 min-h-screen p-4 md:p-8">

    <!-- Control Bar (Not part of the graphic) -->
    <div class="max-w-4xl mx-auto mb-6 flex justify-between items-center no-print">
        <div class="text-gray-600 text-sm">
            <p>üí° <strong>Tip:</strong> Resize window to switch between "Infographic" and "Email" mode.</p>
        </div>
        <button onclick="window.print()" class="flex items-center gap-2 bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors font-medium">
            <i data-lucide="printer" class="w-4 h-4"></i>
            Print / Save PDF
        </button>
    </div>

    <!-- Main Container -->
    <div class="max-w-4xl mx-auto bg-white shadow-xl rounded-2xl overflow-hidden border border-gray-200">
        
        <!-- Header Section -->
        <div class="bg-primary text-white p-8 md:p-12 text-center relative overflow-hidden">
            <!-- Decorative circles -->
            <div class="absolute top-0 left-0 w-32 h-32 bg-white opacity-10 rounded-full -translate-x-10 -translate-y-10"></div>
            <div class="absolute bottom-0 right-0 w-48 h-48 bg-white opacity-10 rounded-full translate-x-10 translate-y-10"></div>
            
            <p class="text-blue-200 font-bold uppercase tracking-widest text-sm mb-2">York Suburban School District</p>
            <h1 class="font-display text-3xl md:text-5xl font-bold mb-4 tracking-wide">Transition Services Update</h1>
            <p class="text-white text-lg max-w-2xl mx-auto font-medium opacity-90">Special Education Department: Preparing Students for Life After High School</p>
        </div>

        <!-- Intro Text -->
        <div class="p-8 text-center border-b border-gray-100">
            <p class="text-gray-700 leading-relaxed max-w-3xl mx-auto font-medium">
                Dear Families, at York Suburban, our goal is to ensure every student leaves our district ready for their next step‚Äîwhether that is postsecondary education, competitive employment, or independent living. We have conducted a deep-dive assessment of our services and are excited to share our new plan to support your child‚Äôs future.
            </p>
        </div>

        <!-- Grid Layout (Infographic Style) -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-0">
            
            <!-- Block 1: What We Learned (White) -->
            <div class="bg-white p-8 border-b md:border-r border-gray-100">
                <div class="flex items-center gap-3 mb-6">
                    <div class="bg-accent text-white p-2 rounded-lg">
                        <i data-lucide="bar-chart-2" class="w-6 h-6"></i>
                    </div>
                    <h2 class="font-display text-2xl text-gray-800 font-bold">What We Learned</h2>
                </div>
                
                <div class="space-y-4">
                    <div class="bg-green-50 p-4 rounded-xl border border-green-100">
                        <div class="flex justify-between items-end mb-1">
                            <span class="text-green-800 font-bold text-sm uppercase">Strength</span>
                            <span class="text-3xl font-bold text-green-600">93.8%</span>
                        </div>
                        <p class="text-gray-700 text-sm">Our graduation rate is excellent and well above the state average!</p>
                    </div>

                    <div class="bg-orange-50 p-4 rounded-xl border border-orange-100">
                        <span class="text-orange-800 font-bold text-sm uppercase block mb-1">Area for Growth</span>
                        <p class="text-gray-700 text-sm">We need to provide more <strong>"real-world" work experiences</strong> for students before they graduate.</p>
                    </div>

                    <div class="bg-blue-50 p-4 rounded-xl border border-blue-100">
                        <span class="text-blue-800 font-bold text-sm uppercase block mb-1">Area for Growth</span>
                        <p class="text-gray-700 text-sm">We need to make it easier to connect with adult agencies like the <strong>Office of Vocational Rehabilitation (OVR)</strong>.</p>
                    </div>
                </div>
            </div>

            <!-- Block 2: Our Priorities (Blue/Gray) -->
            <div class="bg-slate-50 p-8 border-b border-gray-100">
                <div class="flex items-center gap-3 mb-4">
                    <div class="bg-secondary text-white p-2 rounded-lg">
                        <i data-lucide="target" class="w-6 h-6"></i>
                    </div>
                    <h2 class="font-display text-2xl text-gray-800 font-bold">Priorities for the Year</h2>
                </div>
                <ul class="space-y-5">
                    <li class="flex gap-4 items-start">
                        <span class="bg-white text-secondary font-bold w-8 h-8 flex items-center justify-center rounded-full shadow-sm shrink-0 border border-secondary">1</span>
                        <div>
                            <strong class="block text-gray-800 text-lg">Work-Based Learning</strong>
                            <span class="text-sm text-gray-600 leading-snug block mt-1">We are actively rebuilding partnerships with local businesses to offer job shadowing and work experience.</span>
                        </div>
                    </li>
                    <li class="flex gap-4 items-start">
                        <span class="bg-white text-secondary font-bold w-8 h-8 flex items-center justify-center rounded-full shadow-sm shrink-0 border border-secondary">2</span>
                        <div>
                            <strong class="block text-gray-800 text-lg">Agency Connections</strong>
                            <span class="text-sm text-gray-600 leading-snug block mt-1">Streamlining the process to connect students with OVR and MH/IDD services earlier (age 14).</span>
                        </div>
                    </li>
                    <li class="flex gap-4 items-start">
                        <span class="bg-white text-secondary font-bold w-8 h-8 flex items-center justify-center rounded-full shadow-sm shrink-0 border border-secondary">3</span>
                        <div>
                            <strong class="block text-gray-800 text-lg">Student Independence</strong>
                            <span class="text-sm text-gray-600 leading-snug block mt-1">Training staff to help students take the lead in their own IEP meetings.</span>
                        </div>
                    </li>
                </ul>
            </div>

            <!-- Block 3: Action Steps (Blue) -->
            <div class="bg-primary/5 p-8 border-b md:border-b-0 md:border-r border-gray-100">
                <div class="flex items-center gap-3 mb-4">
                    <div class="bg-primary text-white p-2 rounded-lg">
                        <i data-lucide="rocket" class="w-6 h-6"></i>
                    </div>
                    <h2 class="font-display text-2xl text-gray-800 font-bold">What You Can Expect</h2>
                </div>
                <div class="space-y-4 text-gray-700">
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-blue-100 flex gap-3">
                        <div class="mt-1 text-primary"><i data-lucide="book-open" class="w-5 h-5"></i></div>
                        <div>
                            <p class="font-bold text-gray-800">New Resources</p>
                            <p class="text-sm text-gray-600">Look for a new <strong>"Agency Connection Guide"</strong> coming home with your child‚Äôs IEP.</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-blue-100 flex gap-3">
                        <div class="mt-1 text-primary"><i data-lucide="monitor" class="w-5 h-5"></i></div>
                        <div>
                            <p class="font-bold text-gray-800">Better Communication</p>
                            <p class="text-sm text-gray-600">We are launching a <strong>"Transition Corner"</strong> on the district website this spring.</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-blue-100 flex gap-3">
                        <div class="mt-1 text-primary"><i data-lucide="graduation-cap" class="w-5 h-5"></i></div>
                        <div>
                            <p class="font-bold text-gray-800">Teacher Training</p>
                            <p class="text-sm text-gray-600">Our teachers are undergoing specific training this February on coordinating adult services.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Block 4: Get Involved (White) -->
            <div class="bg-white p-8">
                <div class="flex items-center gap-3 mb-4">
                    <div class="bg-secondary text-white p-2 rounded-lg">
                        <i data-lucide="users" class="w-6 h-6"></i>
                    </div>
                    <h2 class="font-display text-2xl text-gray-800 font-bold">Get Involved</h2>
                </div>
                <div class="space-y-4">
                    <p class="text-gray-600 italic">Together, we can build a bridge to a successful future.</p>
                    
                    <div class="flex gap-3 mt-4">
                        <i data-lucide="message-square" class="text-secondary shrink-0 mt-1"></i>
                        <div class="text-gray-600">
                            <strong class="text-gray-800 block">Ask Questions</strong>
                            At your next IEP meeting, ask: <em>"What specific transition activities is my child doing this year?"</em>
                        </div>
                    </div>
                    <div class="flex gap-3">
                        <i data-lucide="link" class="text-secondary shrink-0 mt-1"></i>
                        <div class="text-gray-600">
                            <strong class="text-gray-800 block">Connect</strong>
                            If your child is 14 or older, ask your case manager if an <strong>OVR referral</strong> is appropriate.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- NEW AI Features Section -->
        <div class="max-w-4xl mx-auto mt-8 bg-gradient-to-br from-indigo-900 to-purple-900 shadow-xl rounded-2xl overflow-hidden border border-indigo-700 text-white no-print">
            <div class="p-8 border-b border-indigo-700/50">
                <div class="flex items-center gap-3 mb-2">
                    <i data-lucide="sparkles" class="w-6 h-6 text-yellow-300"></i>
                    <h2 class="font-display text-2xl font-bold">Interactive Parent Tools</h2>
                </div>
                <p class="text-indigo-200">Use our AI assistant to help clarify terms or brainstorm ideas for your student.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-0">
                
                <!-- Tool 1: Jargon Buster -->
                <div class="p-8 border-b md:border-b-0 md:border-r border-indigo-700/50 bg-white/5 backdrop-blur-sm">
                    <h3 class="font-bold text-lg mb-4 flex items-center gap-2">
                        <i data-lucide="search" class="w-5 h-5 text-indigo-300"></i>
                        Jargon Buster
                    </h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm text-indigo-200 mb-2">Confused by an acronym (e.g., FAPE, LRE) or term?</label>
                            <input type="text" id="jargonInput" placeholder="Enter term here (e.g., 'What is an IEP?')" 
                                class="w-full bg-white/10 border border-indigo-400/30 rounded-lg p-3 text-white placeholder-indigo-300/50 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                        </div>
                        <button onclick="handleJargonBuster()" id="jargonBtn" class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2">
                            <span>Explain Simply</span>
                            <i data-lucide="arrow-right" class="w-4 h-4"></i>
                        </button>
                        <div id="jargonResult" class="hidden bg-white/10 rounded-lg p-4 text-sm leading-relaxed border border-white/10 prose prose-invert max-w-none"></div>
                    </div>
                </div>

                <!-- Tool 2: Future Pathfinder -->
                <div class="p-8 bg-white/5 backdrop-blur-sm">
                    <h3 class="font-bold text-lg mb-4 flex items-center gap-2">
                        <i data-lucide="compass" class="w-5 h-5 text-indigo-300"></i>
                        Future Pathfinder
                    </h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm text-indigo-200 mb-2">List your child's interests & strengths:</label>
                            <textarea id="interestInput" rows="3" placeholder="e.g., loves video games, very organized, enjoys cooking..." 
                                class="w-full bg-white/10 border border-indigo-400/30 rounded-lg p-3 text-white placeholder-indigo-300/50 focus:outline-none focus:ring-2 focus:ring-yellow-400"></textarea>
                        </div>
                        <button onclick="handlePathfinder()" id="pathfinderBtn" class="w-full bg-pink-600 hover:bg-pink-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2">
                            <span>‚ú® Brainstorm Ideas</span>
                        </button>
                        <div id="pathfinderResult" class="hidden bg-white/10 rounded-lg p-4 text-sm leading-relaxed border border-white/10 prose prose-invert max-w-none"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Full Width Footer -->
        <div class="bg-gray-800 text-white p-8 text-center mt-8 rounded-t-2xl md:rounded-none">
            <h3 class="text-xl font-bold mb-4">York Suburban School District</h3>
            <div class="flex flex-col md:flex-row justify-center gap-4 md:gap-8 text-gray-300 text-sm">
                <span>Special Education Department</span>
                <span class="hidden md:inline">‚Ä¢</span>
                <span>Secondary Transition Team</span>
                <span class="hidden md:inline">‚Ä¢</span>
                <span>www.yssd.org</span>
            </div>
        </div>
    </div>

    <script>
        // Initialize Lucide Icons
        lucide.createIcons();

        // Gemini API Configuration
        const apiKey = ""; // API Key injected by environment

        async function callGemini(prompt, resultElementId, loadingBtnId) {
            const resultDiv = document.getElementById(resultElementId);
            const btn = document.getElementById(loadingBtnId);
            const originalBtnText = btn.innerHTML;

            // UI Loading State
            btn.disabled = true;
            btn.innerHTML = `<i data-lucide="loader-2" class="w-4 h-4 animate-spin"></i> Thinking...`;
            lucide.createIcons();
            resultDiv.classList.add('hidden');
            resultDiv.innerHTML = "";

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ text: prompt }]
                        }],
                        systemInstruction: {
                            parts: [{ text: "You are a supportive, knowledgeable Special Education Transition Coordinator. Your goal is to empower parents with clear, jargon-free information and creative ideas for their children's future. When explaining terms, be concise and encouraging. When suggesting careers, be realistic but aspirational. Format output in clean Markdown." }]
                        }
                    })
                });

                if (!response.ok) throw new Error('API Request Failed');

                const data = await response.json();
                const text = data.candidates[0].content.parts[0].text;

                // Render Markdown
                resultDiv.innerHTML = marked.parse(text);
                resultDiv.classList.remove('hidden');

            } catch (error) {
                console.error(error);
                resultDiv.innerHTML = `<span class="text-red-300">‚ö†Ô∏è Sorry, something went wrong. Please try again.</span>`;
                resultDiv.classList.remove('hidden');
            } finally {
                btn.disabled = false;
                btn.innerHTML = originalBtnText;
                lucide.createIcons();
            }
        }

        function handleJargonBuster() {
            const input = document.getElementById('jargonInput').value;
            if (!input.trim()) return;
            
            const prompt = `Explain this special education term or concept to a parent in simple, friendly language: "${input}". Provide a brief definition and why it matters for transition planning.`;
            callGemini(prompt, 'jargonResult', 'jargonBtn');
        }

        function handlePathfinder() {
            const input = document.getElementById('interestInput').value;
            if (!input.trim()) return;

            const prompt = `Based on these student interests and strengths: "${input}", suggest 3 potential career clusters or job paths. For each, suggest 1 concrete "transition activity" they could try at home or school to explore that path.`;
            callGemini(prompt, 'pathfinderResult', 'pathfinderBtn');
        }
    </script>
</body>
</html>